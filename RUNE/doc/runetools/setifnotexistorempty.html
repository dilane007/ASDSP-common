<HTML>
<HEAD>
<TITLE>Manpage - setifnotexistorempty</TITLE>
</HEAD>

<BODY BGCOLOR="WHITE">

<CENTER><TABLE CELLSPACING=5 BORDER=0><TR><TD BGCOLOR="#A0A0A0" COLSPAN=2><UL>
<FONT SIZE=6 FACE="sans-serif"><B>setifnotexistorempty<B></FONT>
</UL></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Description</FONT></TD>
<TD WIDTH=500><P>setifnotexistorempty(v,value)</P>
sets variable v to value if it doesn't exist or is empty</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Input</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B>v</B></TD><TD>a string denoting the name of the variable</TD></TR>
<TR><TD VALIGN="TOP"><B>value</B></TD><TD>a any variable or string that can be evaluated</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Try</FONT></TD>
<TD><PRE>setifnotexistorempty('a',1)
setifnotexistorempty('b','2')
setifnotexistorempty('c','a+b')
setifnotexistorempty('d','[1 2 3]')
setifnotexistorempty('d', [1 2 3] )
setifnotexistorempty('d', [1; 2] ) % doesn't work though</PRE></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">See Also</FONT></TD>
<TD><A HREF="setifnotexist.html">setifnotexist</A>, exist, evalin</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2" COLSPAN=2>Source Code</TD></TR>
<TR><TD COLSPAN=2><PRE>function setifnotexistorempty(v,value)

<FONT COLOR="DARKGREEN">% by Magnus ALmgren 031130</FONT>
if ~isstr(value)
 value = ['[' num2str(value) ']'];
end
setstr = sprintf('if ~exist(''<FONT COLOR="DARKGREEN">%s'',''var'') | isempty(%s), %s = %s; end',v,v,v,value);</FONT>
<FONT COLOR="DARKGREEN">% make setstr in caller space when v doesn't exist or isempty(v)</FONT>
evalin('caller',setstr) 

<FONT COLOR="DARKGREEN">% $Id: setifnotexistorempty.m,v 1.1 2004/02/19 17:27:45 bogdant Exp $</FONT>
</PRE></TD></TR>
</TABLE></CENTER>
</BODY>
</HTML>