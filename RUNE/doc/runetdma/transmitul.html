<HTML>
<HEAD>
<TITLE>Manpage - transmitul</TITLE>
</HEAD>

<BODY BGCOLOR="WHITE">

<CENTER><TABLE CELLSPACING=5 BORDER=0><TR><TD BGCOLOR="#A0A0A0" COLSPAN=2><UL>
<FONT SIZE=6 FACE="sans-serif"><B>transmitul<B></FONT>
</UL></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Description</FONT></TD>
<TD WIDTH=500><P>[cul,iul,sirul]=transmitul(b,k,pul,g,noise)</P>
Calculates SIR uplink.</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Input</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B>b</B></TD><TD>base station index</TD></TR>
<TR><TD VALIGN="TOP"><B>k</B></TD><TD>channel index</TD></TR>
<TR><TD VALIGN="TOP"><B>pul</B></TD><TD>transmitted power up link</TD></TR>
<TR><TD VALIGN="TOP"><B>g</B></TD><TD>gainmatrix</TD></TR>
<TR><TD VALIGN="TOP"><B>noise</B></TD><TD>thermal noise floor [dBm]</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Output</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B>cul</B></TD><TD>received carrier power up link [dBm]</TD></TR>
<TR><TD VALIGN="TOP"><B>iul</B></TD><TD>interference power up link [dBm]</TD></TR>
<TR><TD VALIGN="TOP"><B>sirul</B></TD><TD>signal to interference ratio up link [dB]</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Try</FONT></TD>
<TD><PRE>[cdl, idl, sirdl]=transmitdl([1 2]', [1 1]', [0 0]', [-2 -10; -10 -3], -inf)</PRE></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2" COLSPAN=2>Source Code</TD></TR>
<TR><TD COLSPAN=2><PRE>function [cul, iul, sirul]=transmitul(b, k, pul, g, noise)

<FONT COLOR="DARKGREEN">% by Magnus Almgren 000517</FONT>

cul = <A HREF="../runetools/nans.html">nans</A>(size(k)); <FONT COLOR="DARKGREEN">% prepare for result</FONT>
iul = <A HREF="../runetools/nans.html">nans</A>(size(k));
if all(isnan(k))
 sirul = cul - iul; 
 return
end
tl = isfinite(k); <FONT COLOR="DARKGREEN">%these are true links</FONT>
m = (1:length(k))';
ind = <A HREF="../runetools/index.html">index</A>(m(tl), b(tl),size(g,1)); <FONT COLOR="DARKGREEN">% index into g possibly containing NaNs</FONT>
gcl = g(ind); <FONT COLOR="DARKGREEN">% vector, gain for connected links</FONT>
cul(tl) = pul(tl)+g(ind); <FONT COLOR="DARKGREEN">% carrier</FONT>
subk = <A HREF="../runetools/db2lin.html">db2lin</A>(g') * ... <FONT COLOR="DARKGREEN">% a b by k matrix with received power</FONT>
 sparse(m(tl),k(tl),<A HREF="../runetools/db2lin.html">db2lin</A>(pul(tl)),size(g,1),max(k)) + <A HREF="../runetools/db2lin.html">db2lin</A>(noise); 
<FONT COLOR="DARKGREEN">% interference per link</FONT>
iul(tl) = <A HREF="../runetools/lin2db.html">lin2db</A>(max(0,<A HREF="../runetools/flatten.html">flatten</A>(subk(<A HREF="../runetools/index.html">index</A>(b(tl), k(tl), size(g,2)))) - <A HREF="../runetools/db2lin.html">db2lin</A>(cul(tl)))); <FONT COLOR="DARKGREEN">% Received interference, i = ss - c</FONT>
sirul = cul - iul; <FONT COLOR="DARKGREEN">% C/I</FONT>


<FONT COLOR="DARKGREEN">% $Id: transmitul.m,v 1.1 2004/02/19 17:27:33 bogdant Exp $</FONT>
</PRE></TD></TR>
</TABLE></CENTER>
</BODY>
</HTML>