<HTML>
<HEAD>
<TITLE>Manpage - transmitdl</TITLE>
</HEAD>

<BODY BGCOLOR="WHITE">

<CENTER><TABLE CELLSPACING=5 BORDER=0><TR><TD BGCOLOR="#A0A0A0" COLSPAN=2><UL>
<FONT SIZE=6 FACE="sans-serif"><B>transmitdl<B></FONT>
</UL></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Description</FONT></TD>
<TD WIDTH=500><P>[cdl,idl,sirdl]=transmitdl(b,k,pdl,g,noise)</P>
all variables in dB</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Input</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B>b</B></TD><TD>base station index</TD></TR>
<TR><TD VALIGN="TOP"><B>k</B></TD><TD>channel index</TD></TR>
<TR><TD VALIGN="TOP"><B>pdl</B></TD><TD>transmitted power down link</TD></TR>
<TR><TD VALIGN="TOP"><B>g</B></TD><TD>gainmatrix</TD></TR>
<TR><TD VALIGN="TOP"><B>noise</B></TD><TD>thermal noise floor [dBm]</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Output</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B>cdl</B></TD><TD>received carrier power down link [dBm]</TD></TR>
<TR><TD VALIGN="TOP"><B>idl</B></TD><TD>interference power down link [dBm]</TD></TR>
<TR><TD VALIGN="TOP"><B>sirdl</B></TD><TD>signal to interference ratio down link [dB]</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Try</FONT></TD>
<TD><PRE>[cdl, idl, sirdl]=transmitdl([1 2]', [1 1]', [0 0]', [-2 -10; -10 -3], -inf)</PRE></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2" COLSPAN=2>Source Code</TD></TR>
<TR><TD COLSPAN=2><PRE>function [cdl, idl, sirdl]=transmitdl(b, k, pdl, g, noise)

<FONT COLOR="DARKGREEN">% by Magnus Almgren 000510</FONT>

cdl = <A HREF="../runetools/nans.html">nans</A>(size(k)); <FONT COLOR="DARKGREEN">% prepare for result</FONT>
idl = <A HREF="../runetools/nans.html">nans</A>(size(k));
if all(isnan(k))
 sirdl = cdl - idl; 
 return
end
tl = isfinite(k); <FONT COLOR="DARKGREEN">%these are true links</FONT>
m = (1:length(k))';
ind = <A HREF="../runetools/index.html">index</A>(m(tl), b(tl),size(g,1)); <FONT COLOR="DARKGREEN">% index into g possibly containing nans</FONT>
gcl = g(ind); <FONT COLOR="DARKGREEN">% vector, gain for connected links</FONT>
cdl(tl) = pdl(tl)+g(ind); <FONT COLOR="DARKGREEN">% carrier</FONT>
sdbk = <A HREF="../runetools/db2lin.html">db2lin</A>(g) * ... <FONT COLOR="DARKGREEN">% a b by k matrix with received power</FONT>
 sparse(b(tl),k(tl),<A HREF="../runetools/db2lin.html">db2lin</A>(pdl(tl)),size(g,2),max(k)) + <A HREF="../runetools/db2lin.html">db2lin</A>(noise); 
<FONT COLOR="DARKGREEN">% interference per link</FONT>
idl(tl) = <A HREF="../runetools/lin2db.html">lin2db</A>(max(0,sdbk(<A HREF="../runetools/index.html">index</A>(m(tl), k(tl), size(g,1))) - <A HREF="../runetools/db2lin.html">db2lin</A>(cdl(tl)))); <FONT COLOR="DARKGREEN">%    Received interference, i = ss - c</FONT>
sirdl = cdl - idl; <FONT COLOR="DARKGREEN">% C/I</FONT>

<FONT COLOR="DARKGREEN">% $Id: transmitdl.m,v 1.2 2004/03/11 15:01:42 olav Exp $</FONT>
</PRE></TD></TR>
</TABLE></CENTER>
</BODY>
</HTML>