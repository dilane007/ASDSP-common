<HTML>
<HEAD>
<TITLE>Manpage - wraparoundtest</TITLE>
</HEAD>

<BODY BGCOLOR="WHITE">

<CENTER><TABLE CELLSPACING=5 BORDER=0><TR><TD BGCOLOR="#A0A0A0" COLSPAN=2><UL>
<FONT SIZE=6 FACE="sans-serif"><B>wraparoundtest<B></FONT>
</UL></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Description</FONT></TD>
<TD WIDTH=500><P>wraparoundtest</P>
Demonstrates wraparound with one cell in the system. The plot does show the border where the gain from the cell will meet itself.</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Output</FONT></TD>
<TD><TABLE BORDER=0 CELLSPACING=5 WIDTH=500><TR><TD VALIGN="TOP"><B></B></TD><TD>A plot of gain propagation over the system</TD></TR>
</TABLE>
</TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">Try</FONT></TD>
<TD><PRE>wraparoundtest;</PRE></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2">See Also</FONT></TD>
<TD>ex_wraparound, <A HREF="../runegain/crecells.html">crecells</A></TD></TR>
<TR><TD COLSPAN=2 HEIGHT=6><FONT SIZE="-7">&nbsp;</FONT></TD></TR>

<TR><TD VALIGN="TOP"><FONT SIZE="+2" COLSPAN=2>Source Code</TD></TR>
<TR><TD COLSPAN=2><PRE>function wraparoundtest

<FONT COLOR="DARKGREEN">% by Magnus Almgren 040206</FONT>

<FONT COLOR="DARKGREEN">% create sys by running runefg once</FONT>
par = <A HREF="../runegain/setparg.html">setparg</A>; <FONT COLOR="DARKGREEN">% load default parameter settings</FONT>
par.km = 1; <FONT COLOR="DARKGREEN">% only one sectorized site</FONT>
par.lm = 2;
par.sps = 3; 

[res, par, sta, sys] = <A HREF="../runegain/runefg.html">runefg</A>(par); <FONT COLOR="DARKGREEN">% create a nice init state</FONT>

<FONT COLOR="DARKGREEN">% generate a new xym with equally spaced mobiles </FONT>
<FONT COLOR="DARKGREEN">% in both x and y (that is Re and Im)</FONT>
len = 1.25*abs(sys.rhombvec(1)); <FONT COLOR="DARKGREEN">% the area to span</FONT>
siz = 61; <FONT COLOR="DARKGREEN">% nomber of samples along x and y</FONT>
v = linspace(-0.5,0.5,siz);
xym = <A HREF="../runetools/flatten.html">flatten</A>(<A HREF="../runetools/mplus.html">mplus</A>(v',v*sqrt(-1)))*len +0.4*len; <FONT COLOR="DARKGREEN">% the new "mobiles"</FONT>
<FONT COLOR="DARKGREEN">% calculate gain for all the mobiles</FONT>
gmb = <A HREF="../runegain/pathgain.html">pathgain</A>(xym,  sys.xyb(1), sys.fib(1), par.sps, sys.rhombvec, ...
  par.gainconst, par.alpha, 0, par.raa, ...
  sys.lognmap, sys.lognmapvec);
 <FONT COLOR="DARKGREEN">% plot the gain value for one of the three bases and all the mobiles</FONT>
surf(reshape(min(gmb(:,1),-160),[siz siz]));
 
<FONT COLOR="DARKGREEN">% $Id: wraparoundtest.m,v 1.3 2004/03/15 14:58:03 olav Exp $</FONT>
</PRE></TD></TR>
</TABLE></CENTER>
</BODY>
</HTML>